# =========================================================
# Configuración del Webhook Publisher Service
# Copiar a .env y ajustar valores
# =========================================================

# Puerto del servicio
PORT=3003

# RabbitMQ
RABBITMQ_URL=amqp://guest:guest@localhost:5672
RABBITMQ_QUEUE=webhook_publisher_queue
RABBITMQ_EXCHANGE=microservices.events

# Redis (para BullMQ y idempotencia)
REDIS_HOST=localhost
REDIS_PORT=6379

# Secreto para firmar webhooks (HMAC-SHA256)
WEBHOOK_SECRET=dev_secret_key_123456

# =========================================================
# Supabase - Lectura dinámica de suscriptores
# =========================================================

# URL de tu proyecto Supabase
SUPABASE_URL=https://zjynrmbugltvupttaxqz.supabase.co

# Anon Key de Supabase (NO es secreto, es público)
# Encontrar en: Supabase Dashboard > Settings > API > anon public
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...tu-key-aqui

# TTL del caché de suscriptores en milisegundos (default 45 segundos)
SUBSCRIBERS_CACHE_TTL_MS=45000

# =========================================================
# Fallback URLs - Usados si Supabase falla o no está configurado
# =========================================================

WEBHOOK_LOGGER_URL=https://zjynrmbugltvupttaxqz.supabase.co/functions/v1/webhook-logger
TELEGRAM_NOTIFIER_URL=https://zjynrmbugltvupttaxqz.supabase.co/functions/v1/telegram-notifier
